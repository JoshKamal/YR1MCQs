<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Medical MCQ Quiz</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.3/font/bootstrap-icons.css">
  <style>
    body {
      background-color: #f8f9fa;
      padding-bottom: 2rem;
    }
    .navbar {
      margin-bottom: 2rem;
    }
    .quiz-card {
      box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
    }
    .quiz-option {
      padding: 1rem;
      margin-bottom: 0.75rem;
      border: 1px solid #dee2e6;
      border-radius: 0.375rem;
      cursor: pointer;
      transition: all 0.2s ease;
    }
    .quiz-option:hover {
      background-color: #f8f9fa;
    }
    .quiz-option.selected {
      background-color: #e9ecef;
      border-color: #ced4da;
    }
    .quiz-option.correct {
      background-color: #d1e7dd;
      border-color: #badbcc;
    }
    .quiz-option.incorrect {
      background-color: #f8d7da;
      border-color: #f5c2c7;
    }
    .stat-card {
      transition: transform 0.2s ease;
    }
    .stat-card:hover {
      transform: translateY(-5px);
    }
    .stat-icon {
      width: 48px;
      height: 48px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      font-size: 1.5rem;
      color: white;
      margin: 0 auto;
    }
    .topic-card .card-header {
      font-weight: 500;
    }
    .badge {
      font-weight: 500;
    }
    .explanation-box {
      background-color: #f8f9fa;
      border-radius: 0.375rem;
      padding: 1rem;
      margin-top: 1rem;
    }
    /* Module card styles */
    .module-card {
      transition: transform 0.2s ease, box-shadow 0.2s ease;
      cursor: pointer;
    }
    .module-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    }
  </style>
</head>
<body>
  <nav class="navbar navbar-expand-lg navbar-dark bg-primary">
    <div class="container">
      <a class="navbar-brand" href="#">
        <i class="bi bi-clipboard2-pulse me-2"></i>Medical MCQ Quiz
      </a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link active" id="dashboard-link" href="#"><i class="bi bi-speedometer2 me-1"></i>Dashboard</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="practice-link" href="#"><i class="bi bi-journals me-1"></i>Practice</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" id="modules-link" href="#"><i class="bi bi-grid-3x3-gap me-1"></i>Modules</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <div class="container" id="app-container">
    <!-- Dashboard View -->
    <div id="dashboard-view" class="view">
      <div class="row mb-4" id="dashboard-stats-row">
        <div class="col-md-6">
          <div class="card quiz-card">
            <div class="card-body">
              <h5 class="card-title"><i class="bi bi-bar-chart-line me-2"></i>Overall Performance</h5>
              <div class="d-flex justify-content-between mb-3">
                <div>
                  <h6 class="text-muted mb-1">Attempted</h6>
                  <h3 id="total-attempted">0</h3>
                </div>
                <div>
                  <h6 class="text-muted mb-1">Correct</h6>
                  <h3 id="total-correct">0</h3>
                </div>
                <div>
                  <h6 class="text-muted mb-1">Accuracy</h6>
                  <h3 id="overall-accuracy">0%</h3>
                </div>
              </div>
              <div>
                <h6 class="mb-2">Accuracy Rate</h6>
                <div class="progress mb-2">
                  <div id="accuracy-progress" class="progress-bar bg-success" role="progressbar" style="width: 0%"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card quiz-card">
            <div class="card-body">
              <h5 class="card-title"><i class="bi bi-clock-history me-2"></i>Recent Activity</h5>
              <div id="recent-activity" class="mt-3">
                <p class="text-center text-muted">No recent activity</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row mb-4">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-body">
              <h5 class="card-title"><i class="bi bi-bullseye me-2"></i>Topics to Focus On</h5>
              <div id="focus-topics-container" class="mt-3">
                <p class="text-center text-muted">Complete more questions to get recommendations</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-body">
              <h5 class="card-title"><i class="bi bi-book me-2"></i>Topic Analysis</h5>
              <div id="topics-analysis" class="mt-3 row">
                <p class="text-center text-muted">Complete more questions to see topic analysis</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="row mt-4">
        <div class="col-12">
          <div class="d-flex justify-content-end">
            <button id="start-new-session" class="btn btn-outline-success me-2">
              <i class="bi bi-play-circle me-1"></i>Start New Session
            </button>
            <button id="export-data" class="btn btn-outline-primary me-2">
              <i class="bi bi-download me-1"></i>Export Data
            </button>
            <button id="reset-data" class="btn btn-outline-danger">
              <i class="bi bi-trash me-1"></i>Reset Data
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Practice View -->
    <div id="practice-view" class="view d-none">
      <div class="card quiz-card mb-4 question-card">
        <div class="card-body">
          <div class="d-flex justify-content-between align-items-center mb-3">
            <div>
              <span id="current-module-badge" class="badge bg-primary mb-1">All Questions</span>
              <h5 id="question-counter" class="mb-0">Question 1 of 20</h5>
            </div>
            <div>
              <button id="skip-question" class="btn btn-sm btn-outline-secondary">
                <i class="bi bi-skip-forward me-1"></i>Skip
              </button>
            </div>
          </div>

          <div class="progress mb-3">
            <div id="question-progress" class="progress-bar bg-primary" role="progressbar" style="width: 0%"></div>
          </div>

          <h4 id="question-text" class="mb-3">Loading question...</h4>
          
          <div id="options-container" class="mb-3">
            <!-- Options will be inserted here -->
          </div>

          <div id="explanation-container" class="explanation-box d-none">
            <h6 class="mb-2">Explanation:</h6>
            <div id="explanation-text"></div>
            <div class="mt-2">
              <small class="text-muted">Source: <span id="slide-link"></span></small>
            </div>
          </div>
        </div>
        <div class="card-footer d-flex justify-content-between">
          <button id="prev-question" class="btn btn-outline-primary" disabled>
            <i class="bi bi-arrow-left me-1"></i>Previous
          </button>
          <button id="next-question" class="btn btn-primary" disabled>
            Next<i class="bi bi-arrow-right ms-1"></i>
          </button>
        </div>
      </div>
      <div class="dropdown mt-2 mb-4">
        <button class="btn btn-outline-primary dropdown-toggle" type="button" id="moduleDropdown" data-bs-toggle="dropdown" aria-expanded="false">
          Change Module
        </button>
        <ul class="dropdown-menu" aria-labelledby="moduleDropdown">
          <li><a class="dropdown-item" href="#" data-module="all">All Questions</a></li>
          <li><a class="dropdown-item" href="#" data-module="focs">FOCS</a></li>
          <li><a class="dropdown-item" href="#" data-module="bcr">BCR</a></li>
          <li><a class="dropdown-item" href="#" data-module="msk">MSK</a></li>
          <li><a class="dropdown-item" href="#" data-module="anatomy">Anatomy</a></li>
        </ul>
      </div>
    </div>

      <div class="row">
        <div class="col-md-6">
          <div class="card quiz-card">
            <div class="card-body">
              <h5 class="card-title"><i class="bi bi-graph-up me-2"></i>Current Session</h5>
              <div class="d-flex justify-content-between mt-3">
                <div>
                  <h6 class="text-muted mb-1">Attempted</h6>
                  <h3 id="session-attempted">0</h3>
                </div>
                <div>
                  <h6 class="text-muted mb-1">Correct</h6>
                  <h3 id="session-correct">0</h3>
                </div>
                <div>
                  <h6 class="text-muted mb-1">Accuracy</h6>
                  <h3 id="session-accuracy">0%</h3>
                </div>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-6">
          <div class="card quiz-card">
            <div class="card-body">
              <h5 class="card-title"><i class="bi bi-info-circle me-2"></i>Current Topic</h5>
              <div class="mt-3">
                <h6 class="text-muted mb-1">Topic</h6>
                <h4 id="current-topic">-</h4>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Modules View -->
    <div id="topic-focus-view" class="view d-none">
      <div class="row mb-4">
        <div class="col-12">
          <h4 class="mb-3">Select a Module to Practice</h4>
        </div>
      </div>
      
      <!-- FOCS Module -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-header bg-primary text-white">
              <h5 class="mb-0">FOCS - Fundamentals of Clinical Science</h5>
            </div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-9">
                  <div class="mb-3">
                    <h6>Filter by Question Status:</h6>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-outline-primary module-filter-btn" data-module="focs" data-filter="all">All Questions</button>
                      <button type="button" class="btn btn-outline-success module-filter-btn" data-module="focs" data-filter="correct">Correct</button>
                      <button type="button" class="btn btn-outline-danger module-filter-btn" data-module="focs" data-filter="incorrect">Incorrect</button>
                      <button type="button" class="btn btn-outline-secondary module-filter-btn" data-module="focs" data-filter="unattempted">Unseen</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <div class="module-stats" id="focs-stats">
                    <div><strong>Total:</strong> <span id="focs-total">0</span></div>
                    <div><strong>Completed:</strong> <span id="focs-completed">0</span></div>
                    <div><strong>Accuracy:</strong> <span id="focs-accuracy">0%</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- BCR Module -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-header bg-success text-white">
              <h5 class="mb-0">BCR - Blood, Cardiovascular and Respiratory</h5>
            </div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-9">
                  <div class="mb-3">
                    <h6>Filter by Question Status:</h6>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-outline-primary module-filter-btn" data-module="bcr" data-filter="all">All Questions</button>
                      <button type="button" class="btn btn-outline-success module-filter-btn" data-module="bcr" data-filter="correct">Correct</button>
                      <button type="button" class="btn btn-outline-danger module-filter-btn" data-module="bcr" data-filter="incorrect">Incorrect</button>
                      <button type="button" class="btn btn-outline-secondary module-filter-btn" data-module="bcr" data-filter="unattempted">Unseen</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <div class="module-stats" id="bcr-stats">
                    <div><strong>Total:</strong> <span id="bcr-total">0</span></div>
                    <div><strong>Completed:</strong> <span id="bcr-completed">0</span></div>
                    <div><strong>Accuracy:</strong> <span id="bcr-accuracy">0%</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- MSK Module -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-header bg-info text-white">
              <h5 class="mb-0">MSK - Musculoskeletal</h5>
            </div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-9">
                  <div class="mb-3">
                    <h6>Filter by Question Status:</h6>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-outline-primary module-filter-btn" data-module="msk" data-filter="all">All Questions</button>
                      <button type="button" class="btn btn-outline-success module-filter-btn" data-module="msk" data-filter="correct">Correct</button>
                      <button type="button" class="btn btn-outline-danger module-filter-btn" data-module="msk" data-filter="incorrect">Incorrect</button>
                      <button type="button" class="btn btn-outline-secondary module-filter-btn" data-module="msk" data-filter="unattempted">Unseen</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <div class="module-stats" id="msk-stats">
                    <div><strong>Total:</strong> <span id="msk-total">0</span></div>
                    <div><strong>Completed:</strong> <span id="msk-completed">0</span></div>
                    <div><strong>Accuracy:</strong> <span id="msk-accuracy">0%</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Anatomy Module -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-header bg-warning text-dark">
              <h5 class="mb-0">Anatomy</h5>
            </div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-9">
                  <div class="mb-3">
                    <h6>Filter by Question Status:</h6>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-outline-primary module-filter-btn" data-module="anatomy" data-filter="all">All Questions</button>
                      <button type="button" class="btn btn-outline-success module-filter-btn" data-module="anatomy" data-filter="correct">Correct</button>
                      <button type="button" class="btn btn-outline-danger module-filter-btn" data-module="anatomy" data-filter="incorrect">Incorrect</button>
                      <button type="button" class="btn btn-outline-secondary module-filter-btn" data-module="anatomy" data-filter="unattempted">Unseen</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <div class="module-stats" id="anatomy-stats">
                    <div><strong>Total:</strong> <span id="anatomy-total">0</span></div>
                    <div><strong>Completed:</strong> <span id="anatomy-completed">0</span></div>
                    <div><strong>Accuracy:</strong> <span id="anatomy-accuracy">0%</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- All Modules Option -->
      <div class="row mb-4">
        <div class="col-12">
          <div class="card quiz-card">
            <div class="card-header bg-dark text-white">
              <h5 class="mb-0">All Modules Combined</h5>
            </div>
            <div class="card-body">
              <div class="row mb-3">
                <div class="col-md-9">
                  <div class="mb-3">
                    <h6>Filter by Question Status:</h6>
                    <div class="btn-group" role="group">
                      <button type="button" class="btn btn-outline-primary module-filter-btn" data-module="all" data-filter="all">All Questions</button>
                      <button type="button" class="btn btn-outline-success module-filter-btn" data-module="all" data-filter="correct">Correct</button>
                      <button type="button" class="btn btn-outline-danger module-filter-btn" data-module="all" data-filter="incorrect">Incorrect</button>
                      <button type="button" class="btn btn-outline-secondary module-filter-btn" data-module="all" data-filter="unattempted">Unseen</button>
                    </div>
                  </div>
                </div>
                <div class="col-md-3 text-end">
                  <div class="module-stats" id="all-stats">
                    <div><strong>Total:</strong> <span id="all-total">0</span></div>
                    <div><strong>Completed:</strong> <span id="all-completed">0</span></div>
                    <div><strong>Accuracy:</strong> <span id="all-accuracy">0%</span></div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Confirmation Modal -->
  <div class="modal fade" id="confirmModal" tabindex="-1" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="confirmModalTitle">Confirmation</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body" id="confirmModalBody">
          Are you sure you want to proceed?
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="button" class="btn btn-danger" id="confirmModalAction">Confirm</button>
        </div>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="focs-data.js"></script>
  <script src="bcr-data.js"></script>
  <script src="msk-data.js"></script>
  <script src="anatomy-data.js"></script>
  
  <script scr="main.js"></script>
 
</body>
</html>
